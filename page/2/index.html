<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | 杏仁的博客</title>
  <meta name="author" content="杏仁">
  
  <meta name="description" content="Java | Javascript | web | tools">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="杏仁的博客"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="杏仁的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="/js/jquery.min.js"></script>

  
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45019001-1', 'topdna.org');
  ga('send', 'pageview');
</script>


</head>


<body>
  <!--[if lte IE 8]> <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'> <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0027_Simplified Chinese.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." style='margin-left:auto;margin-right:auto;display: block;'/></a></div> <![endif]-->
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">杏仁的博客</a></h1>
  <h2><a href="/">我的学习笔记</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="http://traceinvest.com">TraceInvest</a></li>
    
      <li><a href="/categories/essay/">随感</a></li>
    
      <li><a href="/categories/tech/">技术</a></li>
    
      <li><a href="/categories/investment/">理财</a></li>
    
      <li><a href="/categories/life/">生活</a></li>
    
      <li><a href="/archives">归档</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-24T12:28:53.000Z"><a href="/2017/03/24/java-线程池学习/">2017-03-24</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/24/java-线程池学习/">java 线程池学习</a></h1>
  

    </header>
    <div class="entry">
      
        <p><strong>线程的创建与销毁</strong><br>线程池的基本大小（core pool size）、最大大小（maximum pool size）以及存活时间（keepAliveTime）等因素共同负责线程的创建与销毁。<br>基本大小也就是线程池的目标大小，即在没有任务执行时，线程池的大小，并且只有在工作队列满了的情况下，才会创建超出这个数量的线程。<br>线程池的最大大小表示可同时活动的线程数量的上限。<br>如果某个线程的空闲时间超过了存活时间，那么将被标记为可回收的，并且当线程池的当前大小超过了基本大小时，这个线程将被终止。</p>
<p><strong>管理队列任务</strong><br>有3种队列：直接移交、有界队列和无界队列。<br>newFixedThreadPool和newSingleThreadExecutor在默认情况下将使用一个无界的LinkedBlockingQueue。如果所有工作者线程都处于忙碌状态，那么任务将在队列中等候。如果任务持续快速地到达，并且超过了线程池处理它们的速度，那么队列将无限制地增加。如果新请求的到达速率超过了线程池的处理速率，那么新到来的请求将累积起来。在线程池中，这些请求会在一个由Executor管理的Runnable队列中等待，而不会像线程那样去竞争CPU资源。<br>使用有界队列，队列的大小与线程池的大小必须一起调节。<br>对于非常大的或者无界的线程池，可以通过使用SynchronousQueue来避免任务排队，以及直接将任务从生产者移交给工作者线程。SynchronousQueue不是一个真正的队列，而是一种在线程间进行移交的机制。要将一个元素放入SynchronousQueue中，必须有另一个线程正在等待接受这个元素。如果没有线程正在等待，并且线程池的当前大小小于最大值，那么ThreadPoolExecutor将创建一个新的线程，否则根据饱和策略，这个任务将被拒绝。</p>
<p><strong>饱和策略</strong><br>当有界队列被填满后，饱和策略开始发挥作用。ThreadPoolExecutor的饱和策略可以通过调用setRejectedExecutionHandler来修改。JDK提供了几种不同的RejectedExecutionHandler实现，每种实现都包含有不同的饱和策略：AbortPolicy（终止）、CallerRunsPolicy（调用者运行）、DiscardPolicy（抛弃）和DiscardOldestPolicy（抛弃最旧的）。<br>AbortPolicy：终止策略，该策略将抛出未检查异常RejectExecutionException，调用者可以捕获这个异常。<br>CallerPolicy：调用者运行策略实现了一种调节机制，该策略既不会抛弃任务，也不会抛出异常，而是将某些任务回退到调用者，从而降低新任务的流量。它不会在线程池的某个线程中执行新提交的任务，而是在主线程中执行该任务。由于执行任务需要一定的时间，因此主线程至少在一段时间内不能提交任何任务，从而使得工作者线程有时间来处理完正在执行的任务。在这期间，主线程不会调用accept，因此到达的请求将被保存在TCP层的队列中而不是在应用程序的队列中。当服务器过载，这种过载情况会逐渐向外蔓延开来——从线程池到工作队列到应用程序再到TCP层，最终到达客户端，导致服务器在高负载下实现一种平缓的性能降低。<br>DiscardPolicy：当新提交的任务无法保存到队列中时，抛弃策略会悄悄抛弃该任务。<br>DiscardOldestPolicy：抛弃最旧的策略会抛弃下一个将被执行的任务，然后尝试重新提交新的任务。如果工作队列是一个优先队列，那么抛弃最旧的策略将导致抛弃优先级最高的任务，因此最好不要将“抛弃最旧的”饱和策略和优先级队列放在一起使用。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.concurrent.Executor;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.RejectedExecutionException;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</div><div class="line"><span class="comment">/**</span></div><div class="line"> * 当工作队列被填满后，没有预定义当饱和策略来阻塞executor，</div><div class="line"> * 可以通过使用信号量来限制任务当到达率</div><div class="line"> * 设置信号量的上界为线程池的大小加上可排队任务当数量。</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">One</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">final</span> Executor exec;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">final</span> Semaphore semaphore;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">One</span><span class="params">(Executor exec, <span class="keyword">int</span> bound)</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">this</span>.exec = exec;</div><div class="line">		<span class="keyword">this</span>.semaphore = <span class="keyword">new</span> Semaphore(bound);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">submitTask</span><span class="params">(<span class="keyword">final</span> Runnable command)</span> <span class="keyword">throws</span> InterruptedException</span></div><div class="line">	&#123;</div><div class="line">		semaphore.acquire();</div><div class="line">		<span class="keyword">try</span>&#123;</div><div class="line">			exec.execute(<span class="keyword">new</span> Runnable()&#123;</div><div class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></div><div class="line">				&#123;</div><div class="line">					<span class="keyword">try</span>&#123;</div><div class="line">						command.run();</div><div class="line">					&#125;</div><div class="line">					<span class="keyword">finally</span>&#123;</div><div class="line">						semaphore.release();</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;);</div><div class="line">		&#125;<span class="keyword">catch</span>(RejectedExecutionException e)</div><div class="line">		&#123;</div><div class="line">			semaphore.release();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>线程工厂</strong><br>在ThreadFactory中只定义了一个方法newThread，每当线程池需要创建一个新线程时都会调用这个方法。<br>扩展ThreadPoolExecutor<br>ThreadPoolExecutor是可扩展的，它提供了几个可以在子类中改写的方法：beforeExecute、afterExecute和terminated。<br>在执行任务的线程中将调用beforeExecute和afterExecute等方法，在这些方法中还可以添加日志、计时、监视或统计信息收集的功能。无论任务是从run中正常返回，还是抛出一个异常而返回，afterExecute都会被调用。（如果任务在完成后带有一个Error，那么就不会调用afterExecutor.）如果beforeExecute抛出一个RuntimeException，那么任务将不被执行，并且afterExecute也不会被调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.ThreadPoolExecutor;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicLong;</div><div class="line"><span class="keyword">import</span> java.util.logging.Logger;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 增加了日志和计时等功能的线程池</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimingThreadPool</span> <span class="keyword">extends</span> <span class="title">ThreadPoolExecutor</span></span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">final</span> ThreadLocal&lt;Long&gt; startTime = <span class="keyword">new</span> ThreadLocal&lt;Long&gt;();</div><div class="line">	<span class="keyword">private</span> <span class="keyword">final</span> Logger log = Logger.getLogger(<span class="string">"TimingThreadPool"</span>);</div><div class="line">	<span class="keyword">private</span> <span class="keyword">final</span> AtomicLong numTasks = <span class="keyword">new</span> AtomicLong();</div><div class="line">	<span class="keyword">private</span> <span class="keyword">final</span> AtomicLong totalTime = <span class="keyword">new</span> AtomicLong();</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TimingThreadPool</span><span class="params">(<span class="keyword">int</span> corePoolSize, </span></span></div><div class="line">			<span class="keyword">int</span> maximumPoolSize, </div><div class="line">			<span class="keyword">long</span> keepAliveTime, </div><div class="line">			TimeUnit unit,</div><div class="line">			BlockingQueue&lt;Runnable&gt; workQueue) &#123;</div><div class="line">		<span class="keyword">super</span>(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">beforeExecute</span><span class="params">(Thread t, Runnable r)</span> </span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">super</span>.beforeExecute(t, r);</div><div class="line">		log.fine(String.format(<span class="string">"Thread %s: start %s"</span>,t,r));</div><div class="line">		startTime.set(System.nanoTime());</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">afterExecute</span><span class="params">(Runnable r, Throwable t)</span></span></div><div class="line">	&#123; </div><div class="line">		<span class="keyword">try</span>&#123;</div><div class="line">			<span class="keyword">long</span> endTime = System.nanoTime();</div><div class="line">			<span class="keyword">long</span> taskTime = endTime - startTime.get();</div><div class="line">			numTasks.incrementAndGet();</div><div class="line">			totalTime.addAndGet(taskTime);</div><div class="line">			log.fine(String.format(<span class="string">"Thread %s,:end %s, time = %dns"</span>, t,r,taskTime));</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">finally</span></div><div class="line">		&#123;</div><div class="line">			<span class="keyword">super</span>.afterExecute(r, t);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">terminated</span><span class="params">()</span> </span></div><div class="line">	&#123; </div><div class="line">		<span class="keyword">try</span></div><div class="line">		&#123;</div><div class="line">			log.info(String.format(<span class="string">"Terminated: avg time = %dns"</span>, totalTime.get() / numTasks.get()));</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">finally</span></div><div class="line">		&#123;</div><div class="line">			<span class="keyword">super</span>.terminated();</div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当串行循环中的各个迭代操作之间彼此独立，并且每个迭代操作执行的工作量比管理一个新任务时带来的开销更多，那么这个串行循环就适合并行化。</p>
<p><strong>参考书籍</strong><br>《Java并发编程实战》</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-19T13:06:01.000Z"><a href="/2017/03/19/链表中环的入口节点/">2017-03-19</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/19/链表中环的入口节点/">链表中环的入口节点</a></h1>
  

    </header>
    <div class="entry">
      
        <p><strong>题目：</strong>一个链表中包含环，如何找出环的入口节点？</p>
<p><strong>分析：</strong>指定两个指针P1，P2，P1每次前进一步，P2每次前进2步，若有环，他们必定在环中相遇。</p>
<p>链表如下，相遇后：<br><img src="http://omt5ar039.bkt.clouddn.com/%e9%93%be%e8%a1%a8%e7%8e%af.PNG" alt="链表环"></p>
<p>P1经过的距离为：x+ay+m</p>
<p>P2经过的距离为：x+by+m</p>
<p>则有2P1 = P2，即：</p>
<p>2(x+ay+m)=x+by+m</p>
<p>x=(b-2a)y-m</p>
<p>说明x经过的节点数为环n倍的节点数减去m个节点。</p>
<p>则一个指针从1开始，一个指针从相遇点开始，他们会在环的入口节点处相遇。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-16T11:49:20.000Z"><a href="/2017/03/16/vim入门/">2017-03-16</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/16/vim入门/">vim入门</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h2><h3 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">k         上移</div><div class="line">j         下移</div><div class="line">h         左移</div><div class="line">l         右移</div><div class="line"></div><div class="line">w         移动到下一个单词(word)</div><div class="line">dd        删除光标所在行，并去除空隙；</div><div class="line">yy        复制当前行到内存缓冲区；</div><div class="line">p         小写字母 p，将缓冲区的内容粘贴到光标的后面；</div></pre></td></tr></table></figure>
<h2 id="进阶命令"><a href="#进阶命令" class="headerlink" title="进阶命令"></a>进阶命令</h2><h3 id="移动-1"><a href="#移动-1" class="headerlink" title="移动"></a>移动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">w         移动到下一个单词(word)</div><div class="line">e         到下一个单词的结尾</div><div class="line">b         移动到上一个单词(back)</div><div class="line">ge        到前一个单词的结尾</div><div class="line"></div><div class="line">ctrl+f    在文件中前移一页（相当于 page down）</div><div class="line">ctrl+b    在文件中后移一页（相当于 page up）</div><div class="line"></div><div class="line">\*         当光标停留在一个单词上，* 键会在文件内搜索该单词，并跳转到下一处；</div><div class="line">\#         当光标停留在一个单词上，# 在文件内搜索该单词，并跳转到上一处；</div><div class="line">gg         将光标定位到文件第一行起始位置；</div><div class="line">G          将光标定位到文件最后一行起始位置；</div><div class="line">NG或Ngg    将光标定位到第 N 行的起始位置。</div><div class="line"></div><div class="line">H          将光标移到屏幕上的起始行（或最上行）；</div><div class="line">M          将光标移到屏幕中间；</div><div class="line">L          将光标移到屏幕最后一行。</div></pre></td></tr></table></figure>
<h3 id="行内移动"><a href="#行内移动" class="headerlink" title="行内移动"></a>行内移动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">e          右移光标到一个字的末尾；</div><div class="line">b          左移光标到前一个字的开头；</div><div class="line">0          数字０，左移光标到本行的开始；</div><div class="line">$          右移光标，到本行的末尾；</div><div class="line">^          移动光标，到本行的第一个非空字符。</div></pre></td></tr></table></figure>
<h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/str1      正向搜索字符串 str1；</div><div class="line">n         继续搜索，找出 str1 字符串下次出现的位置；</div><div class="line">N          继续搜索，找出 str1 字符串上一次出现的位置；</div><div class="line">?str2      反向搜索字符串 str2 。</div></pre></td></tr></table></figure>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">x          删除光标所指向的当前字符；</div><div class="line">nx         删除光标所指向的前 n 个字符；</div><div class="line">dw         删除光标右侧的字；</div><div class="line">ndw        删除光标右侧的 n 个字；</div><div class="line">db         删除光标左侧的字；</div><div class="line">ndb        删除光标左侧的 n 个字；</div><div class="line">dd         删除光标所在行，并去除空隙；</div><div class="line">ndd        删除（剪切） n 行内容，并去除空隙；</div><div class="line">d$         从当前光标起删除字符直到行的结束；</div><div class="line">d0         从当前光标起删除字符直到行的开始；</div><div class="line">J          删除本行的回车符（CR），并和下一行合并。</div></pre></td></tr></table></figure>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rc        用 c 替换光标所指向的当前字符；</div><div class="line">nrc       用 c 替换光标所指向的前 n 个字符；</div></pre></td></tr></table></figure>
<h3 id="复制粘贴"><a href="#复制粘贴" class="headerlink" title="复制粘贴"></a>复制粘贴</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yy         复制当前行到内存缓冲区；</div><div class="line">nyy        复制 n 行内容到内存缓冲区；</div><div class="line">p          小写字母 p，将缓冲区的内容粘贴到光标的后面；</div><div class="line">P          大写字母 P，将缓冲区的内容粘贴到光标的前面。</div></pre></td></tr></table></figure>
<h3 id="撤销与重复"><a href="#撤销与重复" class="headerlink" title="撤销与重复"></a>撤销与重复</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">u          撤消前一条命令的结果；</div><div class="line">.          重复最后一条修改正文的命令。</div></pre></td></tr></table></figure>
<h3 id="进入插入模式"><a href="#进入插入模式" class="headerlink" title="进入插入模式"></a>进入插入模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">i          在光标左侧插入正文</div><div class="line">I          在光标所在行的开头插入</div><div class="line">a          在光标右侧插入正文</div><div class="line">A          在光标所在行的末尾插入</div><div class="line">o          在光标所在行的下一行增添新行</div><div class="line">O          在光标所在行的上一行增添新行</div></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.jianshu.com/p/bcbe916f97e1" target="_blank" rel="external">http://www.jianshu.com/p/bcbe916f97e1</a><br><a href="http://coolshell.cn/articles/5426.html" target="_blank" rel="external">http://coolshell.cn/articles/5426.html</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-14T14:39:33.000Z"><a href="/2017/03/14/Java正则表达式（下）/">2017-03-14</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/14/Java正则表达式（下）/">Java正则表达式（下）</a></h1>
  

    </header>
    <div class="entry">
      
        <p><strong>Pattern类：</strong>正则表达式的编译表示。</p>
<p>典型的调用顺序如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Pattern p = Pattern.compile(<span class="string">"a*b"</span>);  </div><div class="line">Matcher m = p.matcher(<span class="string">"aaaaab"</span>);  </div><div class="line"><span class="keyword">boolean</span> b = m.matches();</div></pre></td></tr></table></figure></p>
<p>在仅使用一次正则表达式时，可以方便地通过此类的matches方法。此方法编译表达式并在单个调用中将输入序列与其匹配。语句如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">boolean</span> b = Pattern.matches(<span class="string">"a*b"</span>, <span class="string">"aaaaab"</span>);</div></pre></td></tr></table></figure>
<p>这条语句相当于上面3条语句，但是对于重复的匹配而言它效率不高，因为它不允许重用已编译的模式。</p>
<p><strong>注：</strong>此类的实例是不可变的，可供多个并发线程安全使用。Matcher类的实例用于多线程则不安全。</p>
<p><strong>反斜杠，转义和引用</strong></p>
<p>反斜杠字符（’\’）用于引入如下表中定义的转义结构，以及引用字符，否则将被解释为非转义结构。因此，表达式<code>\\</code>匹配单个反斜杠，<code>\{</code>匹配左括号。</p>
<p>在任何不表示转义构造的字母字符之前使用反斜杠是一个错误，它们是为将来扩展正则表达式语言保留的。反斜杠可以在非字母字符之前使用，而不管该字符是否是非转义结构的一部分。</p>
<p>有必要在表示正则表达式的字符串文字中用双反斜杠，以保护它们不被Java字节码编译器解释。例如，字符串文字<code>\b</code>在解释为正则表达式时匹配单个退格字符(U+0008)，而<code>\\b</code>匹配单词边界。字符串文字<code>\(hello\)</code>是非法的，并导致编译时错误;为了匹配字符串(hello)，必须使用字符串文字<code>\\(hello\\)</code>。</p>
<p>下面这段对反斜杠的解释摘自<a href="https://segmentfault.com/q/1010000000431259" target="_blank" rel="external">https://segmentfault.com/q/1010000000431259</a> </p>
<p><strong>普通反斜杠</strong></p>
<p>我们使用的反斜杠，就是一个 <code>\</code></p>
<p><strong>文艺反斜杠</strong></p>
<p>但是在java等编程语言中，我们需要使用转义：一个文艺反斜杠 <code>\\</code> 表示一个普通反斜杠 <code>\</code></p>
<p><strong>二逼反斜杠</strong></p>
<p>正则表达式中，反斜杠也需要转义，即 <code>\\</code> 表示匹配一个 <code>\</code>，然后蛋疼的事儿就来了，当你在 java中写 <code>\\</code> 时，其实正则表达式引擎只接受到了一个 <code>\</code>，所以，如果你想让正则表达式引擎接受两个反斜杠，那么这两个斜杠都得转义。例如<code>Pattern.matches(&quot;\\\\&quot;, &quot;\\&quot;)</code>;返回true。</p>
<p><strong>示例代码</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Strings = <span class="string">"\u0009"</span>;  </div><div class="line"><span class="comment">//1.替换为\u0009传递给正则表达式引擎，  </span></div><div class="line"><span class="keyword">boolean</span> b = Pattern.matches(<span class="string">"\t"</span>, s);  </div><div class="line"><span class="comment">//1.替换为\t传递给正则表达式引擎，2.正则表达式解析器解释\t为\u0009  </span></div><div class="line"><span class="keyword">boolean</span> b2 = Pattern.matches(<span class="string">"\\t"</span>, s);  </div><div class="line"><span class="comment">//1.替换为\\u0009传递给正则表达式引擎，2.正则表达式解析器解释\\u0009为\u0009  </span></div><div class="line"><span class="comment">//在"\"之后的字符，正则表达式引擎认为如果不能被转义，则表示字符本身，即 "\\u0009"和"\u0009"是等价的    </span></div><div class="line"><span class="keyword">boolean</span> b3 = Pattern.matches(<span class="string">"\\\t"</span>, s);  </div><div class="line"><span class="comment">//1.替换为\\t传递给正则表达式引擎，2.正则表达式解析器解释\\t为\t  </span></div><div class="line"><span class="keyword">boolean</span> b4 = Pattern.matches(<span class="string">"\\\\t"</span>,<span class="string">"\\t"</span>);</div></pre></td></tr></table></figure></p>
<p>以上四个例子都会返回true. 当使用<code>\t</code>时，转义序列<code>\t</code>由Java替换为字符U + 0009。 当使用<code>\\t</code>时，<code>\\t</code>中的转义序列<code>\\</code>被替换为<code>\</code>，导致<code>\t</code>被正则表达式解析器解释为字符U + 0009。因此，两种表示都将被正确解释。 这只是它被替换为相应的字符的时间问题。</p>
<h2 id="正则表达式构造摘要"><a href="#正则表达式构造摘要" class="headerlink" title="正则表达式构造摘要"></a>正则表达式构造摘要</h2><h3 id="1-字符"><a href="#1-字符" class="headerlink" title="1.字符"></a>1.字符</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>字符x  <br><code>Pattern.matches(&quot;a&quot;,  &quot;a&quot;);</code></td>
</tr>
<tr>
<td>\</td>
<td>反斜杠字符</td>
</tr>
<tr>
<td>\0n</td>
<td>八进制值为0n的字符（0 &lt;= n &lt;= 7）</td>
</tr>
<tr>
<td>\0nn</td>
<td>八进制值为0nn（0 &lt;= n &lt;= 7）的字符。<br>Pattern.matches(“\075”, “=”);//八进制75对应的十进制数为61，即字符“=”。</td>
</tr>
<tr>
<td>\0mnn</td>
<td>八进制值为0mnn的字符（0 &lt;= m &lt;= 3、0 &lt;= n &lt;= 7）。<br>Pattern.matches(“\0144”, “\f4”);//此例子中，将\014看成了八进制，不知道为啥没把144当做八进制解释。</td>
</tr>
<tr>
<td>\xhh</td>
<td>十六进制值为0xhh的字符。<br>Pattern.matches(“\x61”, “a”);//十六进制61对应的十进制数为97，即小写字母“a”。</td>
</tr>
<tr>
<td>\uhhhh</td>
<td>十六进制值为hhhh的字符。<br>Pattern.matches(“\u597D”, “好”);//汉字“好”对应的Unicode是597D</td>
</tr>
<tr>
<td>\x{h…h}</td>
<td>十六进制值为0xh … h的字符（Character.MIN_CODE_POINT &lt;=0xh…h&lt;= Character.MAX_CODE_POINT）</td>
</tr>
<tr>
<td>\t</td>
<td>制表符 (‘\u0009’)。<br><code>Pattern.matches(&quot;\\t&quot;, &quot;\u0009&quot;);</code></td>
</tr>
<tr>
<td>\n</td>
<td>换行符（’\ u000A’）</td>
</tr>
<tr>
<td>\r</td>
<td>回车字符（’\u000D’）</td>
</tr>
<tr>
<td>\f</td>
<td>换页字符（’\ u000C’）</td>
</tr>
<tr>
<td>\a</td>
<td>警报（铃声）字符（’\ u0007’）</td>
</tr>
<tr>
<td>\e</td>
<td>转义字符（’\ u001B’）</td>
</tr>
<tr>
<td>\cx</td>
<td>对应x的控制字符</td>
</tr>
</tbody>
</table>
<h3 id="2-字符类"><a href="#2-字符类" class="headerlink" title="2.字符类"></a>2.字符类</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[abc]</td>
<td>一个字符集合。匹配方括号的中任意字符。你可以使用破折号（-）来指定一个字符范围。对于点（.）和星号（*）这样的特殊符号在一个字符集中没有特殊的意义。<br>String line=”<em>add”;Pattern p = Pattern.compile(“[abc</em>]”);Matcher m = p.matcher(line);</td>
</tr>
<tr>
<td>[^abc]</td>
<td>一个反向字符集。也就是说， 它匹配任何没有包含在方括号中的字符。你可以使用破折号（-）来指定一个字符范围。任何普通字符在这里都是起作用的。例如，[^abc] 和 [^a-c] 是一样的。他们匹配”brisket”中得‘r’，也匹配“chop”中的‘h’。<br>String line=”andmd”;<br>Pattern p = Pattern.compile(“[^a-c]”);<br>Matcher m = p.matcher(line);</td>
</tr>
<tr>
<td>[a-zA-Z]</td>
<td></td>
</tr>
<tr>
<td>[a-d[m-p]]</td>
<td>等价于[a-dm-p]，（并集）</td>
</tr>
<tr>
<td>[a-z&amp;&amp;[def]]</td>
<td>等价于[a-z&amp;&amp;def]，（交集），结果是d、e或f<br><code>String line=&quot;abcd&quot;;Pattern p = Pattern.compile(&quot;[a-d&amp;&amp;[b-g]]&quot;);Matcher m = p.matcher(line);System.out.println(m.find()+&quot; &quot;+m.group());</code></td>
</tr>
<tr>
<td>[a-z&amp;&amp;[^bc]]</td>
<td>a到z，除了b和c</td>
</tr>
<tr>
<td>[a-z&amp;&amp;[^m-p]]</td>
<td>a到z，除了m-p<br><code>String line=&quot;mabcd&quot;;Pattern p = Pattern.compile(&quot;[a-z&amp;&amp;[^m-p]]&quot;);Matcher m = p.matcher(line);System.out.println(m.find()+&quot; &quot;+m.group());</code></td>
</tr>
</tbody>
</table>
<h3 id="3-预定义字符类"><a href="#3-预定义字符类" class="headerlink" title="3.预定义字符类"></a>3.预定义字符类</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>匹配除了行终结符之外的任何单个字符。行终结符之后会描述。</td>
</tr>
<tr>
<td>\d</td>
<td>匹配一个数字。等价于[0-9]。</td>
</tr>
<tr>
<td>\D</td>
<td>等价于[^0-9]。</td>
</tr>
<tr>
<td>\h</td>
<td>匹配水平空白字符[\t\xA0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000]</td>
</tr>
<tr>
<td>\H</td>
<td>非水平空白字符：[^\h]</td>
</tr>
<tr>
<td>\s</td>
<td>空格字符：[\t\n\x0B\f\r]</td>
</tr>
<tr>
<td>\S</td>
<td>非空格字符：[^\s]</td>
</tr>
<tr>
<td>\v</td>
<td>垂直空格字符：[\n\x0B\f\r\x85\u2028\ u2029]</td>
</tr>
<tr>
<td>\V</td>
<td>非垂直空格字符：[^\v]</td>
</tr>
<tr>
<td>\w</td>
<td>等价于[A-Za-z0-9_]。</td>
</tr>
<tr>
<td>\W</td>
<td>等价于[^A-Za-z0-9_]。</td>
</tr>
</tbody>
</table>
<p><strong>行终结符</strong><br>行终止符是一个或两个字符的序列，标记输入字符序列的行的结尾。 以下被识别为行终止符：<br>换行符字符（<code>\n</code>），<br>回车字符后紧跟一个换行符（<code>\r\n</code>），<br>一个独立的回车字符（<code>\r</code>），<br>下一行字符（’\u0085’），<br>分隔符字符（’\u2028’）或<br>段落分隔符字符（’\u2029’）。<br>如果激活了UNIX_LINES模式，则唯一识别的行终止符是换行符\n。<br>正则表达式”.”匹配除了行终止符之外的任何字符，除非指定了DOTALL标志。</p>
<h3 id="4-POSIX-字符类（仅-US-ASCII）"><a href="#4-POSIX-字符类（仅-US-ASCII）" class="headerlink" title="4.POSIX 字符类（仅 US-ASCII）"></a>4.POSIX 字符类（仅 US-ASCII）</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\p{Lower}</td>
<td>小写字母字符：[a-z]<code>Pattern.matches(&quot;\\p{Lower}&quot;, &quot;m&quot;);</code></td>
</tr>
<tr>
<td>\p{Upper}</td>
<td>大写字母字符：[A-Z]<code>Pattern.matches(&quot;\\p{Upper}&quot;, &quot;M&quot;);</code></td>
</tr>
<tr>
<td>\p{ASCII}</td>
<td>所有 ASCII：[\x00-\x7F]<code>Pattern.matches(&quot;\\p{ASCII}&quot;, &quot;M&quot;);</code></td>
</tr>
<tr>
<td>\p{Alpha}</td>
<td>字母字符：[\p{Lower}\p{Upper}]</td>
</tr>
<tr>
<td>\p{Digit}</td>
<td>十进制数字：[0-9]</td>
</tr>
<tr>
<td>\p{Alnum}</td>
<td>字母数字字符：[\p{Alpha}\p{Digit}]</td>
</tr>
<tr>
<td>\p{Punct}</td>
<td>标点符号：<code>!&quot;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_\</code>{or}~`</td>
</tr>
<tr>
<td>\p{Graph}</td>
<td>可见字符：[\p{Alnum}\p{Punct}]</td>
</tr>
<tr>
<td>\p{Print}</td>
<td>可打印字符：[\p{Graph}\x20]</td>
</tr>
<tr>
<td>\p{Black}</td>
<td>空格或制表符：[\t]</td>
</tr>
<tr>
<td>\p{Cntrl}</td>
<td>控制字符：[\x00-\x1F\x7F]</td>
</tr>
<tr>
<td>\p{XDigit}</td>
<td>十六进制数字：[0-9a-fA-F]</td>
</tr>
<tr>
<td>\p{Space}</td>
<td>空格字符：[\t\n\x0B\f\r]</td>
</tr>
</tbody>
</table>
<p>开始ASCII只定义了128个字符编码，包括96个文字和32个控制符号，一共128个字符只需要一个字节的7位就能表示所有的字符，因此 ASCII 只使用了一个字节的后7位，最高位都为0。<br><img src="http://omt5ar039.bkt.clouddn.com/ascii.jpg" alt="ascii picture"></p>
<h3 id="5-java-lang-Character-类"><a href="#5-java-lang-Character-类" class="headerlink" title="5.java.lang.Character 类"></a>5.java.lang.Character 类</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\p{javaLowerCase}</td>
<td>等效于java.lang.Character.isLowerCase()<br><code>Pattern.matches(&quot;\\p{javaLowerCase}&quot;, &quot;m&quot;);</code></td>
</tr>
<tr>
<td>\p{javaUpperCase}</td>
<td>等效于java.lang.Character.isUpperCase()</td>
</tr>
<tr>
<td>\p{javaWhitespace}</td>
<td>等效于java.lang.Character.isWhitespace()</td>
</tr>
<tr>
<td>\p{javaMirrored}</td>
<td>等效于java.lang.Character.isMirrored()</td>
</tr>
</tbody>
</table>
<h3 id="6-Unicode脚本，块，类别和二进制属性的类"><a href="#6-Unicode脚本，块，类别和二进制属性的类" class="headerlink" title="6.Unicode脚本，块，类别和二进制属性的类"></a>6.Unicode脚本，块，类别和二进制属性的类</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\p{IsLatin}</td>
<td>拉丁文字符（脚本）</td>
</tr>
<tr>
<td>\p{InGreek}</td>
<td>希腊语块的一个字符</td>
</tr>
<tr>
<td>\p{Lu}</td>
<td>大写字母（类别）</td>
</tr>
<tr>
<td>\p{IsAlphabetic}</td>
<td>字母字符（二进制属性）</td>
</tr>
<tr>
<td>\p{Sc}</td>
<td>货币符号</td>
</tr>
<tr>
<td>\P{InGreek}</td>
<td>除了希腊语块中字符的任何字符（否定）</td>
</tr>
<tr>
<td>[\p{L}&amp;&amp;[^\p{Lu}]]</td>
<td>除大写字母以外的任何字母（减法）</td>
</tr>
</tbody>
</table>
<h3 id="7-边界匹配器"><a href="#7-边界匹配器" class="headerlink" title="7.边界匹配器"></a>7.边界匹配器</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>匹配行的开始。</td>
</tr>
<tr>
<td>$</td>
<td>匹配行的结束。</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个词的边界。一个词的边界就是一个词不被另外一个词跟随的位置或者不是另一个词汇字符前边的位置。注意，一个匹配的词的边界并不包含在匹配的内容中。<br><code>Pattern p = Pattern.compile(&quot;\\bm&quot;);Matcher m = p.matcher(&quot;moon&quot;);boolean b = m.find();//true       Matcher m2 = p.matcher(&quot;amoon&quot;);boolean b2 = m2.find();//false</code></td>
</tr>
<tr>
<td>\B</td>
<td>匹配一个非单词边界。他匹配一个前后字符都是相同类型的位置：都是单词或者都不是单词。一个字符串的开始和结尾都被认为是非单词。<br><code>Pattern p = Pattern.compile(&quot;\\B..&quot;);Matcher m = p.matcher(&quot;noonday&quot;);boolean b = m.find();Pattern p2 = Pattern.compile(&quot;y\\B.&quot;);Matcher m2 = p2.matcher(&quot;possibly yesterday&quot;);boolean b2 = m2.find();System.out.println(b+&quot; &quot;+m.group());System.out.println(b2+&quot; &quot;+m2.group());</code></td>
</tr>
<tr>
<td>\A</td>
<td>匹配输入的开始</td>
</tr>
<tr>
<td>\z</td>
<td>输入的结尾</td>
</tr>
<tr>
<td>\G</td>
<td>上一次匹配的结束</td>
</tr>
<tr>
<td>\Z</td>
<td>输入的结尾，仅用于最后的结束符（如果有的话）</td>
</tr>
</tbody>
</table>
<p><code>\G</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"\\Gdog"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"dogdog"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.find();</div><div class="line">System.out.println(b+<span class="string">" "</span>+<span class="string">" "</span>+m.start()+<span class="string">" "</span>+m.end()+<span class="string">" "</span>+m.group());</div><div class="line">b = m.find();</div><div class="line"><span class="keyword">if</span>(b)</div><div class="line">&#123;</div><div class="line">System.out.println(b+<span class="string">" "</span>+<span class="string">" "</span>+m.start()+<span class="string">" "</span>+m.end()+<span class="string">" "</span>+m.group());</div><div class="line">&#125;</div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"\\Gdog"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"dog dog"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.find();</div><div class="line">System.out.println(b2+<span class="string">" "</span>+<span class="string">" "</span>+m2.start()+<span class="string">" "</span>+m2.end()+<span class="string">" "</span>+m2.group());</div><div class="line">b2 = m2.find();</div><div class="line">System.out.println(b2);</div><div class="line"><span class="keyword">if</span>(b2)</div><div class="line">&#123;</div><div class="line">System.out.println(b2+<span class="string">" "</span>+<span class="string">" "</span>+m2.start()+<span class="string">" "</span>+m2.end()+<span class="string">" "</span>+m2.group());</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>\Z</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"StackOverflow\\Z"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"StackOverflow\n"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.find();</div><div class="line">System.out.println(b+<span class="string">" "</span>+<span class="string">" "</span>+m.start()+<span class="string">" "</span>+m.end()+<span class="string">" "</span>+m.group());</div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"StackOverflow\\z"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"StackOverflow"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.find();</div><div class="line">System.out.println(b2+<span class="string">" "</span>+<span class="string">" "</span>+m2.start()+<span class="string">" "</span>+m2.end()+<span class="string">" "</span>+m2.group());</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="8-换行符匹配器"><a href="#8-换行符匹配器" class="headerlink" title="8.换行符匹配器"></a>8.换行符匹配器</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\R</td>
<td>任何Unicode换行序列，相当于\u000D\u000A or [\u000A\u000B\u000C\u000D\u0085\u2028\u2029]</td>
</tr>
</tbody>
</table>
<h3 id="9-贪婪量词-Greedy"><a href="#9-贪婪量词-Greedy" class="headerlink" title="9.贪婪量词(Greedy)"></a>9.贪婪量词(Greedy)</h3><p>Greedy数量词被称为“贪婪的”是因为匹配器被强制要求第一次尝试匹配时读入整个输入串，如果第一次尝试匹配失败，则从后往前逐个字符地回退并尝试再次匹配，直到匹配成功或没有字符可回退。</p>
<table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>X?</td>
<td>匹配字符X，它出现0次或一次</td>
</tr>
<tr>
<td>X*</td>
<td>匹配字符X，它出现0次或多次</td>
</tr>
<tr>
<td>X+</td>
<td>匹配字符X，它出现1次或多次</td>
</tr>
<tr>
<td>X{n}</td>
<td>匹配字符X，它出现n次</td>
</tr>
<tr>
<td>X{n,}</td>
<td>匹配字符X，它至少出现n次</td>
</tr>
<tr>
<td>X{n,m}</td>
<td>匹配字符X，它出现至少n次，但是不超过m次</td>
</tr>
</tbody>
</table>
<h3 id="10-勉强的量词-Reluctant"><a href="#10-勉强的量词-Reluctant" class="headerlink" title="10.勉强的量词(Reluctant)"></a>10.勉强的量词(Reluctant)</h3><p>Reluctant采用与Greedy相反的方法，它从输入串的首(字符)位置开始，在一次尝试匹配查找中只勉强地读一个字符，直到尝试完整个字符串。</p>
<table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>X??</td>
<td>匹配字符X，它出现0次或一次</td>
</tr>
<tr>
<td>X*?</td>
<td>匹配字符X，它出现0次或多次</td>
</tr>
<tr>
<td>X+?</td>
<td>匹配字符X，它出现1次或多次</td>
</tr>
<tr>
<td>X{n}?</td>
<td>匹配字符X，它出现n次</td>
</tr>
<tr>
<td>X{n,}?</td>
<td>匹配字符X，它至少出现n次</td>
</tr>
<tr>
<td>X{n,m}?</td>
<td>匹配字符X，它出现至少n次，但是不超过m次</td>
</tr>
</tbody>
</table>
<h3 id="11．独占量词-Possessive"><a href="#11．独占量词-Possessive" class="headerlink" title="11．独占量词(Possessive)"></a>11．独占量词(Possessive)</h3><p>Possessive数量词总是读入整个输入串，尝试一次(仅且一次)匹配成功，不像Greedy，Possessive从不回退，即便这样做也可能使整体匹配成功。</p>
<table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>X?+</td>
<td>匹配字符X，它出现0次或一次</td>
</tr>
<tr>
<td>X*+</td>
<td>匹配字符X，它出现0次或多次</td>
</tr>
<tr>
<td>X++</td>
<td>匹配字符X，它出现1次或多次</td>
</tr>
<tr>
<td>X{n}+</td>
<td>匹配字符X，它出现n次</td>
</tr>
<tr>
<td>X{n,}+</td>
<td>匹配字符X，它至少出现n次</td>
</tr>
<tr>
<td>X{n,m}+</td>
<td>匹配字符X，它出现至少n次，但是不超过m次</td>
</tr>
</tbody>
</table>
<p><strong>示例代码如下：</strong><br>import java.util.regex.Matcher;<br>import java.util.regex.Pattern;</p>
<p>public class demo0 {<br>public static void main(String args[])<br>{<br>//Greedy<br>System.out.println(“==Greedy===”);<br>Pattern p = Pattern.compile(“.*dog”);<br>Matcher m = p.matcher(“aadogaaaadogaaaaaadog”);<br>while (m.find()) {<br>System.out.println(m.start() + “ “ + m.end()+” “+m.group());<br>}</p>
<p>//Reluctant<br>System.out.println(“==Reluctant===”);<br>Pattern p2 = Pattern.compile(“.*?dog”);<br>Matcher m2 = p2.matcher(“aadogaaaadogaaaaaadog”);<br>while (m2.find()) {<br>System.out.println(m2.start() + “ “ + m2.end()+” “+m2.group());<br>}</p>
<p>//Possessive<br>System.out.println(“==Possessive===”);<br>Pattern p3 = Pattern.compile(“.*+dog”);<br>Matcher m3 = p3.matcher(“aadogaaaadogaaaaaadog”);<br>while (m3.find()) {<br>System.out.println(m3.start() + “ “ + m3.end()+” “+m3.group());<br>}</p>
<p>}<br>}</p>
<h3 id="12-逻辑运算符"><a href="#12-逻辑运算符" class="headerlink" title="12.逻辑运算符"></a>12.逻辑运算符</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>XY</td>
<td>匹配字符串XY</td>
</tr>
<tr>
<td>XorY</td>
<td>匹配X字符或Y字符</td>
</tr>
<tr>
<td>(X)</td>
<td>匹配 ‘x’ 并且记住匹配项，就像下面的例子展示的那样。括号被称为捕获括号。</td>
</tr>
</tbody>
</table>
<p><code>(X)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public static void main(String args[])</div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(&quot;(foo) (bar) \\1 \\2&quot;);</div><div class="line">Matcher m = p.matcher(&quot;foo bar foo bar&quot;);</div><div class="line">boolean b = m.matches();</div><div class="line">System.out.println(b+&quot; &quot;+&quot; &quot;+m.start()+&quot; &quot;+m.end()+&quot; &quot;+m.group());</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="13-返回引用"><a href="#13-返回引用" class="headerlink" title="13.返回引用"></a>13.返回引用</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\n</td>
<td>任何第n个匹配的捕获组</td>
</tr>
<tr>
<td>\k&lt; name &gt;</td>
<td>匹配任何命名捕获组“名称”</td>
</tr>
</tbody>
</table>
<h3 id="14-引用"><a href="#14-引用" class="headerlink" title="14.引用"></a>14.引用</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>Nothing，但是引用以下字符</td>
</tr>
<tr>
<td>\Q</td>
<td>Nothing，但是引用所有字符，直到\E</td>
</tr>
<tr>
<td>\E</td>
<td>Nothing，但是结束从\Q开始的引用</td>
</tr>
</tbody>
</table>
<h3 id="15-特殊构造（命名捕获和非捕获）"><a href="#15-特殊构造（命名捕获和非捕获）" class="headerlink" title="15.特殊构造（命名捕获和非捕获）"></a>15.特殊构造（命名捕获和非捕获）</h3><table>
<thead>
<tr>
<th>构造</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>(?&lt; name &gt;X)</td>
<td>匹配字符X，作为命名捕获组</td>
</tr>
<tr>
<td>(?:X)</td>
<td>匹配 ‘x’ 但是不记住匹配项。这种叫作非捕获括号，使得你能够定义为与正则表达式运算符一起使用的子表达式。来看示例表达式 (?:foo){1,2}。如果表达式是 foo{1,2}，{1,2}将只对 ‘foo’ 的最后一个字符 ’o‘ 生效。如果使用非捕获括号，则{1,2}会匹配整个 ‘foo’ 单词。</td>
</tr>
<tr>
<td>(?idmsuxU-idmsuxU)</td>
<td></td>
</tr>
<tr>
<td>(?idmsux-idmsux:X)</td>
<td></td>
</tr>
<tr>
<td>Y(?=X)</td>
<td>正向肯定查找，匹配’Y’仅仅当’Y’后面跟着’X’</td>
</tr>
<tr>
<td>Y(?!X)</td>
<td>正向否定查找, 匹配’Y’仅仅当’Y’后面不跟着’X’.</td>
</tr>
<tr>
<td>(?&lt;=X)Y</td>
<td>反向肯定查找, 匹配’Y’仅仅当’Y’前面是’X’.</td>
</tr>
<tr>
<td><code>(?&lt;!X)Y</code></td>
<td>反向否定查找，, 匹配’Y’仅仅当’Y’前面不是’X’.</td>
</tr>
<tr>
<td>(?&gt;X)</td>
<td>匹配字符X，作为独立的，非捕获组</td>
</tr>
</tbody>
</table>
<p><strong>示例如下：</strong><br><code>(?:X)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"(?:foo)&#123;2&#125;"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"foofoo"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.matches();</div><div class="line">System.out.println(b+<span class="string">" "</span>+<span class="string">" "</span>+m.start()+<span class="string">" "</span>+m.end()+<span class="string">" "</span>+m.group());</div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"foo&#123;2&#125;"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"fooo"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.matches();</div><div class="line">System.out.println(b2+<span class="string">" "</span>+<span class="string">" "</span>+m2.start()+<span class="string">" "</span>+m2.end()+<span class="string">" "</span>+m2.group());</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>Y(?=X)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"dog(?=foo)"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"dogfoo12"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.find();</div><div class="line">System.out.println(b+<span class="string">" "</span>+<span class="string">" "</span>+m.start()+<span class="string">" "</span>+m.end()+<span class="string">" "</span>+m.group());</div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"dog(?=foo)"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"dog12foo"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.find();</div><div class="line">System.out.println(b2);</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>Y(?!X)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"dog(?!foo)"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"dogfoo12"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.find();</div><div class="line">System.out.println(b);</div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"dog(?!foo)"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"dog12foo"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.find();</div><div class="line">System.out.println(b2+<span class="string">" "</span>+<span class="string">" "</span>+m2.start()+<span class="string">" "</span>+m2.end()+<span class="string">" "</span>+m2.group());</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>(?&lt;=X)Y</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"(?&lt;=foo)dog"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"foo12dog"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.find();</div><div class="line">System.out.println(b);</div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"(?&lt;=foo)dog"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"12foodog"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.find();</div><div class="line">System.out.println(b2+<span class="string">" "</span>+<span class="string">" "</span>+m2.start()+<span class="string">" "</span>+m2.end()+<span class="string">" "</span>+m2.group());</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>(?&lt;!X)Y</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span></div><div class="line">&#123;</div><div class="line">Pattern p = Pattern.compile(<span class="string">"(?&lt; !foo)dog"</span>);</div><div class="line">Matcher m = p.matcher(<span class="string">"foo12dog"</span>);</div><div class="line"><span class="keyword">boolean</span> b = m.find();</div><div class="line">System.out.println(b+<span class="string">" "</span>+<span class="string">" "</span>+m.start()+<span class="string">" "</span>+m.end()+<span class="string">" "</span>+m.group());</div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"(?&lt;!foo)dog"</span>);</div><div class="line">Matcher m2 = p2.matcher(<span class="string">"12foodog"</span>);</div><div class="line"><span class="keyword">boolean</span> b2 = m2.find();</div><div class="line">System.out.println(b2);</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>注：</strong>由于markdown的表格用<code>|</code>分隔，所以表格中的<code>|</code>字符用<code>or</code>代替了。</p>
<p>参考文档：</p>
<p><a href="http://docs.oracle.com/javase/8/docs/api/" target="_blank" rel="external">http://docs.oracle.com/javase/8/docs/api/</a></p>
<p><a href="http://blog.csdn.net/luoweifu/article/details/42759439" target="_blank" rel="external">http://blog.csdn.net/luoweifu/article/details/42759439</a></p>
<p><a href="https://segmentfault.com/q/1010000000431259" target="_blank" rel="external">https://segmentfault.com/q/1010000000431259</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-12T14:09:30.000Z"><a href="/2017/03/12/Java正则表达式（上）/">2017-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/12/Java正则表达式（上）/">Java正则表达式（上）</a></h1>
  

    </header>
    <div class="entry">
      
        <p>本篇文章介绍java.util.regex包下的Matcher类，关于具体的正则表达式的各种匹配规则见下篇关于Pattern类的介绍。</p>
<p><strong>Matcher类：</strong>通过解释Pattern从而对字符序列执行匹配操作的引擎。</p>
<p>通过调用Pattern的matcher方法从Pattern创建Matcher类。一旦创建，匹配器可以用于执行三种不同类型的匹配操作：</p>
<ol>
<li><p>matches()方法尝试将整个输入序列与Pattern匹配。如果匹配成功，则可以通过start()、end()和group()方法获得更多信息。</p>
</li>
<li><p>lookingAt()方法尝试将输入序列从头开始与模式匹配。和matches()方法一样，这个方法总是从区域的开始处开始; 但和matcher()方法不同的是，它不需要整个区域匹配。</p>
</li>
<li><p>find()方法扫描输入序列，寻找与Pattern匹配的下一个子序列。该方法在该匹配器区域的开始处开始，或者如果方法先前调用成功并且匹配器之前没有被重置，则在与先前匹配不匹配的第一个字符处开始。</p>
</li>
</ol>
<p>这些方法中的每一个都返回一个指示成功或失败的布尔值。</p>
<p><strong>注意：</strong>匹配器的显式状态最初是未定义的; 在成功匹配之前尝试查询它的任何部分将导致抛出IllegalStateException。匹配器的状态由每个匹配操作重新计算。</p>
<p>示例代码</p>
<p>1.matches()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;  </div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;  </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span>  </span></div><div class="line">&#123;  </div><div class="line">String line=<span class="string">"123aabab"</span>;  </div><div class="line">Pattern p = Pattern.compile(<span class="string">"a*b"</span>);  </div><div class="line">Matcher m = p.matcher(line);  </div><div class="line"><span class="comment">//由于与整个输入序列匹配，所以此处匹配失败，输出false  </span></div><div class="line"><span class="keyword">boolean</span> r = m.matches();  </div><div class="line">System.out.println(<span class="string">"是否匹配："</span>+r);  </div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"123a*bab"</span>);  </div><div class="line">Matcher m2 = p2.matcher(line);  </div><div class="line"><span class="comment">//与整个输入序列完全匹配，所以此处匹配成功，输出true  </span></div><div class="line"><span class="keyword">boolean</span> r2 = m2.matches();  </div><div class="line">System.out.println(<span class="string">"是否匹配："</span>+r2);  </div><div class="line"><span class="keyword">if</span>(r2)  </div><div class="line">&#123;  </div><div class="line">System.out.print(m2.start()+<span class="string">" "</span>);  </div><div class="line">System.out.print(m2.end()+<span class="string">" "</span>);  </div><div class="line">System.out.println(m2.group());  </div><div class="line">&#125;  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">是否匹配：false  </div><div class="line">是否匹配：true  </div><div class="line">0 8 123aabab</div></pre></td></tr></table></figure></p>
<p>2.lookingAt()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;  </div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;  </div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span>  </span></div><div class="line">&#123;  </div><div class="line">String line=<span class="string">"123aabab"</span>;  </div><div class="line">Pattern p = Pattern.compile(<span class="string">"a*b"</span>);  </div><div class="line">Matcher m = p.matcher(line);  </div><div class="line"><span class="comment">//由于与输入序列的前缀匹配，所以此处匹配失败，输出false  </span></div><div class="line"><span class="keyword">boolean</span> r = m.lookingAt();  </div><div class="line">System.out.println(<span class="string">"是否匹配："</span>+r);  </div><div class="line"></div><div class="line">Pattern p2 = Pattern.compile(<span class="string">"123a*b"</span>);  </div><div class="line">Matcher m2 = p2.matcher(line);  </div><div class="line"><span class="comment">//与输入序列的前缀匹配，所以此处匹配成功，输出true  </span></div><div class="line"><span class="keyword">boolean</span> r2 = m2.lookingAt();  </div><div class="line">System.out.println(<span class="string">"是否匹配："</span>+r2);  </div><div class="line"><span class="keyword">if</span>(r2)  </div><div class="line">&#123;  </div><div class="line">System.out.print(m2.start()+<span class="string">" "</span>);  </div><div class="line">System.out.print(m2.end()+<span class="string">" "</span>);  </div><div class="line">System.out.println(m2.group());  </div><div class="line">&#125;  </div><div class="line"></div><div class="line">Pattern p3 = Pattern.compile(<span class="string">"123a*bab"</span>);  </div><div class="line">Matcher m3 = p3.matcher(line);  </div><div class="line"><span class="comment">//与整个输入序列完全匹配，所以此处匹配成功，输出true  </span></div><div class="line"><span class="keyword">boolean</span> r3 = m3.lookingAt();  </div><div class="line">System.out.println(<span class="string">"是否匹配："</span>+r3);  </div><div class="line"><span class="keyword">if</span>(r3)  </div><div class="line">&#123;  </div><div class="line">System.out.print(m3.start()+<span class="string">" "</span>);  </div><div class="line">System.out.print(m3.end()+<span class="string">" "</span>);  </div><div class="line">System.out.println(m3.group());  </div><div class="line">&#125;  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">是否匹配：false  </div><div class="line">是否匹配：true  </div><div class="line">0 6 123aab  </div><div class="line">是否匹配：true  </div><div class="line">0 8 123aabab</div></pre></td></tr></table></figure></p>
<p>3.find()方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;  </div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;  </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span>  </span></div><div class="line">&#123;  </div><div class="line">String line=<span class="string">"123aabab"</span>;  </div><div class="line">Pattern p = Pattern.compile(<span class="string">"a*b"</span>);  </div><div class="line">Matcher m = p.matcher(line);  </div><div class="line"><span class="keyword">boolean</span> r = m.find();  </div><div class="line">System.out.println(<span class="string">"是否匹配："</span>+r);  </div><div class="line"><span class="keyword">while</span>(r)<span class="comment">//注意这里用的是while，循环匹配  </span></div><div class="line">&#123;  </div><div class="line">System.out.print(m.start()+<span class="string">" "</span>);  </div><div class="line">System.out.print(m.end()+<span class="string">" "</span>);  </div><div class="line">System.out.println(m.group());  </div><div class="line">r = m.find();  </div><div class="line">&#125;  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">是否匹配：true  </div><div class="line">3 6 aab  </div><div class="line">6 8 ab</div></pre></td></tr></table></figure></p>
<p>4.在未执行上述3个匹配函数的情况下调用查询函数，例如group()函数，将会导致IllegalStateException错误。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;  </div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo0</span> </span>&#123;  </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span>  </span></div><div class="line">&#123;  </div><div class="line">String line=<span class="string">"123aabab"</span>;  </div><div class="line">Pattern p = Pattern.compile(<span class="string">"a*b"</span>);  </div><div class="line">Matcher m = p.matcher(line);  </div><div class="line">System.out.println(m.group());  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Exception in thread &quot;main&quot; java.lang.IllegalStateException: No match found</div><div class="line">at java.util.regex.Matcher.group(Unknown Source)</div><div class="line">at java.util.regex.Matcher.group(Unknown Source)</div><div class="line">at RegexTest.main(RegexTest.java:79)</div></pre></td></tr></table></figure></p>
<p><strong>注意：</strong>此类的实例不能安全地用于多个并发线程。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-12T14:06:42.000Z"><a href="/2017/03/12/javascript变量/">2017-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/12/javascript变量/">javascript变量</a></h1>
  

    </header>
    <div class="entry">
      
        <p>变量的查找有两种类型：LHS和RHS，LHS即赋值操作的目标是谁，RHS即谁是赋值操作的源头。若RHS查找失败会抛出ReferenceError异常，LHS失败会导致自动隐式地创建一个全局变量（非严格模式）。</p>
<p>考虑如下两段代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//A</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span></div><div class="line"></div><div class="line">&#123;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(a + b);</div><div class="line"></div><div class="line">b = a;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">foo(<span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//B</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span></div><div class="line"></div><div class="line">&#123;</div><div class="line"></div><div class="line">b = a;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(a + b);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">foo(<span class="number">2</span>);</div></pre></td></tr></table></figure>
<hr>
<p>以上两个小例子，大家可以在电脑上跑一下</p>
<p>A会出错，错误信息为：Uncaught ReferenceError: b is not defined。</p>
<p>而B能正确地打印出4。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-12T14:04:27.000Z"><a href="/2017/03/12/Java队列与双端队列/">2017-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/12/Java队列与双端队列/">Java队列与双端队列</a></h1>
  

    </header>
    <div class="entry">
      
        <p>平时不怎么用到队列，需要用的时候，一些函数老需要翻书，于是整理了一些，<em>参考《Java核心技术 卷I》。</em></p>
<p>java.util.Queue<e> 5.0<br>boolean add(E element)<br>boolean offer(E element)<br>如果队列没有满，将给定的元素添加到这个双端队列的尾部并返回true。如果队列满了，第一个方法将抛出一个IllegalStateException，而第二个方法返回false。</e></p>
<p>E remove()<br>E poll()<br>假如队列不空，删除并返回这个队列头部的元素。如果队列是空的，第一个方法抛出NoSuchElementException，而第二个方法返回null。</p>
<p>E element()<br>E peek<br>如果队列不空，返回这个队列头部的元素，但不删除。如果队列空，第一个方法将抛出一个NoSuchElementException，而第二个方法返回null。</p>
<p>java.util.Deque<e> 6<br>void addFirst(E element)<br>void addLast(E element)<br>boolean offerFirst(E element)<br>boolean offerLast(E element)<br>将给定的对象添加到双端队列的头部或尾部。如果队列满了，前面两个方法将抛出一个IllegalStateException，而后面两个方法返回false。</e></p>
<p>E removeFirst()<br>E removeLast()<br>E pollFirst()<br>E pollLast()<br>如果队列不空，删除并返回队列头部的元素。如果队列为空，前面两个方法将抛出一个NoSuchElementException，而后面两个方法返回null。</p>
<p>E getFirst()<br>E getLast()<br>E peekFirst()<br>E peekLast()<br>如果队列非空，返回队列头部的元素，但不删除。如果队列空，前面两个方法将抛出一个NoSuchElementException，而后面两个方法返回null。</p>
<p><strong>优先级队列</strong><br>优先级队列中的元素可以按照任意的顺序插入，却总是按照排序的顺序进行检索。优先级队列使用了一个优雅且高效的数据结构，堆。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-12T14:02:38.000Z"><a href="/2017/03/12/如何给动态元素添加事件/">2017-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/12/如何给动态元素添加事件/">如何给动态元素添加事件</a></h1>
  

    </header>
    <div class="entry">
      
        <p>要给动态添加的元素添加事件，可以给其父元素添加事件。这样若是在冒泡事件下，点击事件由子元素传递到父元素，就会触发父元素上绑定的事件函数，在函数里做一下过滤，便可实现想要的功能。（在捕获事件里也是同样的道理）</p>
<p>以下分三种事件举例。JavaScript事件有HEML事件、DOM0级事件和DOM2级事件。</p>
<p>（1）HEML事件：</p>
<p>如示例所示，当点击“添加”按钮添加元素后，点击新添加的元素也会在控制台看到日志。</p>
<p>将printLog的调用直接写在html的元素上，这种添加事件的方法就是HTML事件。这种方法的缺点是html和JavaScript代码耦合性较大。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"init()"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span> <span class="attr">class</span>=<span class="string">"parent"</span> <span class="attr">onclick</span>=<span class="string">"printLog(event)"</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"add"</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span>  </div><div class="line">  </div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript">  </span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">            <span class="comment">//当点击添加按钮时，添加一个child span  </span></div><div class="line">            <span class="keyword">var</span> addObj = <span class="built_in">document</span>.getElementById(<span class="string">"add"</span>);  </div><div class="line">            addObj.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">                <span class="keyword">var</span> parentObj = <span class="built_in">document</span>.getElementById(<span class="string">"parent"</span>);  </div><div class="line">                <span class="keyword">var</span> childObj = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);  </div><div class="line">                childObj.setAttribute(<span class="string">'class'</span>,<span class="string">'child'</span>);  </div><div class="line">                parentObj.appendChild(childObj);  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        <span class="comment">//点击child span时，打印一行日志  </span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">printLog</span>(<span class="params">event</span>)</span>&#123;  </div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"当前节点类名："</span>+event.currentTarget.className+<span class="string">",产生事件的节点类名："</span>+event.target.className);  </div><div class="line">        &#125;  </div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </div><div class="line">  </div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>(2)DOM0级事件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"init()"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"add"</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span>  </div><div class="line">  </div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript">  </span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">            <span class="keyword">var</span> addObj = <span class="built_in">document</span>.getElementById(<span class="string">"add"</span>);  </div><div class="line">            <span class="keyword">var</span> parentObj = <span class="built_in">document</span>.getElementById(<span class="string">"parent"</span>);  </div><div class="line">            <span class="comment">//DOM0级事件：当点击添加按钮时，添加一个child span  </span></div><div class="line">            addObj.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">                <span class="keyword">var</span> childObj = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);  </div><div class="line">                childObj.setAttribute(<span class="string">'class'</span>,<span class="string">'child'</span>);  </div><div class="line">                parentObj.appendChild(childObj);  </div><div class="line">            &#125;  </div><div class="line">            <span class="comment">//DOM0级事件：点击child span时，打印一行日志  </span></div><div class="line">            parentObj.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;  </div><div class="line">                <span class="built_in">console</span>.log(<span class="string">"当前节点类名："</span>+event.currentTarget.className+<span class="string">",产生事件的节点类名："</span>+event.target.className);  </div><div class="line">            &#125;  </div><div class="line">            <span class="comment">//取消事件  </span></div><div class="line">            <span class="comment">// parentObj.onclick = null;  </span></div><div class="line">        &#125;  </div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>(3)DOM2级事件：</p>
<p>addEventListener(event, function, useCapture)</p>
<p>removeEventListener(event, function, useCapture)</p>
<p>IE事件处理程序调用的是如下函数，没有最后一个参数的原因是早期的IE浏览器只支持冒泡事件。</p>
<p>attachEvent(event, function)</p>
<p>detachEvent(event, function)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"init()"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"add"</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span>  </div><div class="line">  </div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript">  </span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">            <span class="keyword">var</span> addObj = <span class="built_in">document</span>.getElementById(<span class="string">"add"</span>);  </div><div class="line">            <span class="keyword">var</span> parentObj = <span class="built_in">document</span>.getElementById(<span class="string">"parent"</span>);  </div><div class="line">            <span class="comment">//DOM0级事件：当点击添加按钮时，添加一个child span  </span></div><div class="line">            addObj.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">                <span class="keyword">var</span> childObj = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);  </div><div class="line">                childObj.setAttribute(<span class="string">'class'</span>,<span class="string">'child'</span>);  </div><div class="line">                parentObj.appendChild(childObj);  </div><div class="line">            &#125;  </div><div class="line">            <span class="comment">//DOM2级事件：false表示冒泡事件；true表示捕获事件  </span></div><div class="line">            parentObj.addEventListener(<span class="string">'click'</span>,printLog,<span class="literal">false</span>);  </div><div class="line">            <span class="comment">//删除事件  </span></div><div class="line">            <span class="comment">// parentObj.removeEventListener('click',printLog,false);  </span></div><div class="line">        &#125;  </div><div class="line">        <span class="comment">//点击child span时，打印一行日志  </span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">printLog</span>(<span class="params">event</span>)</span>&#123;  </div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"当前节点类名："</span>+event.currentTarget.className+<span class="string">",产生事件的节点类名："</span>+event.target.className);  </div><div class="line">        &#125;  </div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>以上代码的效果图如下，后面两个元素是点击添加按钮后添加的。</p>
<p><img src="http://omt5ar039.bkt.clouddn.com/images/event.png" alt="图片"></p>
<p><strong>附：</strong>html代码里所用的css文件如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#parent</span>&#123;  </div><div class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#876</span>;  </div><div class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;  </div><div class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;  </div><div class="line">&#125;  </div><div class="line"><span class="selector-class">.child</span>&#123;  </div><div class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#954</span>;  </div><div class="line">    <span class="attribute">background-color</span>:<span class="number">#954</span>;  </div><div class="line">    <span class="attribute">width</span>:<span class="number">30px</span>;  </div><div class="line">    <span class="attribute">height</span>:<span class="number">30px</span>;  </div><div class="line">    <span class="attribute">display</span>:inline-block;  </div><div class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">2px</span>;  </div><div class="line">&#125;  </div><div class="line"><span class="selector-class">.child</span><span class="selector-pseudo">:hover</span>&#123;  </div><div class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#333</span>;  </div><div class="line">&#125;  </div><div class="line"><span class="selector-id">#add</span>&#123;  </div><div class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>注：</strong>上图中的前3个元素之间有多余的空格，即使margin设置为0也没有效果，这是很多浏览器的正常效果。给元素设置inline-block属性后就会出现此现象，解决办法之一如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!--</span></div><div class="line">--&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!--</span></div><div class="line">--&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在元素之间插入注释，或者直接写在同一行。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-12T14:00:01.000Z"><a href="/2017/03/12/java-double比较大小/">2017-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/12/java-double比较大小/">java double比较大小</a></h1>
  

    </header>
    <div class="entry">
      
        <p>double和float不能表达每个数值，他们是使用近似来表示值的。</p>
<p>考虑一下下面例子的输出内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> classOne&#123;  </div><div class="line"> publicstaticvoidmain(String[] args)  </div><div class="line"> &#123;  </div><div class="line">      <span class="keyword">double</span> a = <span class="number">1.000001</span>;  </div><div class="line">     doubleb = <span class="number">0.000001</span>;  </div><div class="line">     doubled = a - b;  </div><div class="line">     System.out.println(d);  </div><div class="line">     System.out.println(d==<span class="number">1.0</span>);  </div><div class="line"> &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>结果是false。Java程序员经常犯的一个错误是，在循环中使用浮点数和用==运算符检查条件，在最坏的情况下，这可能会创建一个无限循环，导致Java应用程序挂起。所以我们不应该用==进行精确比较，应该这样做：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> classOne&#123;  </div><div class="line"> publicstaticvoidmain(String[] args)  </div><div class="line"> &#123;  </div><div class="line">      <span class="keyword">double</span> a = <span class="number">1.000001</span>;  </div><div class="line">     doubleb = <span class="number">0.000001</span>;  </div><div class="line">     doubled = a - b;  </div><div class="line">     <span class="keyword">if</span>(Math.abs(d-<span class="number">1.0</span>)&lt;= <span class="number">0.000001</span>)  </div><div class="line">     &#123;  </div><div class="line">      System.out.println(<span class="string">"the are equal"</span>);  </div><div class="line">     &#125;  </div><div class="line"> &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于double值，我们应该做计算而不是比较，总是比较近似而不是精确的值。例如：当需要比较值是不是等于10.00的时候，我们用是否&gt; 9.95来表示，如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (amount == <span class="number">100.00</span>) <span class="comment">// Not Ok  </span></div><div class="line"><span class="keyword">if</span> (amount &gt; <span class="number">99.995</span>) <span class="comment">// Ok</span></div></pre></td></tr></table></figure>
<p>参考文档<br><a href="http://www.java67.com/2015/09/float-and-double-value-comparison-in-java-use-relational.html" target="_blank" rel="external">http://www.java67.com/2015/09/float-and-double-value-comparison-in-java-use-relational.html</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <time datetime="2017-03-12T13:57:20.000Z"><a href="/2017/03/12/java自动装箱与拆箱/">2017-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2017/03/12/java自动装箱与拆箱/">java自动装箱与拆箱</a></h1>
  

    </header>
    <div class="entry">
      
        <p>自动装箱、拆箱是java的语法糖，在编译之后被转化成了对应的包装和还原方法，虽然这些语法糖看起来很简单，但是也有需要注意的地方，如下示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> classOne&#123;  </div><div class="line">publicstaticvoidmain(String[] args)  </div><div class="line">&#123;  </div><div class="line">Integer a = <span class="number">1</span>;  </div><div class="line">Integer b = <span class="number">2</span>;  </div><div class="line">Integer c = <span class="number">3</span>;  </div><div class="line">Integer d = <span class="number">3</span>;  </div><div class="line">Integer e = <span class="number">321</span>;  </div><div class="line">Integer f = <span class="number">321</span>;  </div><div class="line">Long g = <span class="number">3L</span>;  </div><div class="line"></div><div class="line">System.out.println(c == d);  </div><div class="line">System.out.println(e == f);  </div><div class="line">System.out.println(c == (a + b));  </div><div class="line">System.out.println(c.equals(a + b));  </div><div class="line">System.out.println(g == (a + b));  </div><div class="line">System.out.println(g.equals(a + b));  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>先思考一下上面代码的输出。可以在Eclipse里运行一下以验证自己的想法。</p>
<p><strong>注意：</strong>包装类的“==”运算在不遇到算术运算的情况下不会自动拆箱，以及他们的equals()方法不处理数据的转型。</p>
<p>下面将刚刚示例中的代码编译成class文件，然后再通过字节码反编译工具进行反编译，以证实上述注意点。<a href="http://jd.benow.ca/" target="_blank" rel="external">反编译工具链接</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">importjava.io.PrintStream;  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">One</span>  </span></div><div class="line">&#123;  </div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span></div><div class="line">&#123;  </div><div class="line"><span class="comment">//自动装箱  </span></div><div class="line">Integer a = Integer.valueOf(<span class="number">1</span>);  </div><div class="line">Integer b = Integer.valueOf(<span class="number">2</span>);  </div><div class="line">Integer c = Integer.valueOf(<span class="number">3</span>);  </div><div class="line">Integer d = Integer.valueOf(<span class="number">3</span>);  </div><div class="line">Integer e = Integer.valueOf(<span class="number">321</span>);  </div><div class="line">Integer f = Integer.valueOf(<span class="number">321</span>);  </div><div class="line">Long g = Long.valueOf(<span class="number">3L</span>);  </div><div class="line"></div><div class="line">System.out.println(c == d);  </div><div class="line">System.out.println(e == f);  </div><div class="line"></div><div class="line"><span class="comment">//遇到算术运行+，所以自动拆箱  </span></div><div class="line">System.out.println(c.intValue() == a.intValue() + b.intValue());  </div><div class="line">System.out.println(c.equals(Integer.valueOf(a.intValue() +b.intValue())));  </div><div class="line"><span class="comment">//遇到算术运行+，所以自动拆箱  </span></div><div class="line">System.out.println(g.longValue() == a.intValue() + b.intValue());  </div><div class="line"><span class="comment">//equals()方法不处理数据的转型  </span></div><div class="line">System.out.println(g.equals(Integer.valueOf(a.intValue() +b.intValue())));  </div><div class="line">&#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>提示：</strong>前两行输出的结果不一样，通过查看valueOf()函数的实现，可以很容易理解。</p>
<p><em>本文摘抄自《深入理解Java虚拟机》一书。</em></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>







<ul class="page-direction" id="page-direction">
    <li><a class="page-prev" href="javascript:;" title="Prev">
      <span class="icon-stack">
        <i class="icon-circle icon-stack-base"></i>
        <i class="icon-angle-left"></i>
      </span>
    <li><a class="page-next" href="javascript:;" title="Next">
      <span class="icon-stack">
        <i class="icon-circle icon-stack-base"></i>
        <i class="icon-angle-right"></i>
      </span>
    </a></li>
</ul>

    <nav id="page-list" class="page-list"><a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next</a></nav>

<nav id="pagination">
  
    <a href="/" class="alignleft prev">Prev</a>
  
  
    <a href="/page/3/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="text" name="q" results="0" placeholder="Search">
    <i class="icon-search"></i>
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Builder/">Builder</a><small>1</small></li>
  
    <li><a href="/tags/JavaBean/">JavaBean</a><small>1</small></li>
  
    <li><a href="/tags/double/">double</a><small>1</small></li>
  
    <li><a href="/tags/equals/">equals</a><small>1</small></li>
  
    <li><a href="/tags/hashCode/">hashCode</a><small>1</small></li>
  
    <li><a href="/tags/intern/">intern</a><small>1</small></li>
  
    <li><a href="/tags/java/">java</a><small>17</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>3</small></li>
  
    <li><a href="/tags/jvm/">jvm</a><small>1</small></li>
  
    <li><a href="/tags/map/">map</a><small>1</small></li>
  
    <li><a href="/tags/markdown/">markdown</a><small>1</small></li>
  
    <li><a href="/tags/set/">set</a><small>1</small></li>
  
    <li><a href="/tags/synchronized/">synchronized</a><small>1</small></li>
  
    <li><a href="/tags/textarea/">textarea</a><small>1</small></li>
  
    <li><a href="/tags/this逸出/">this逸出</a><small>1</small></li>
  
    <li><a href="/tags/volatile/">volatile</a><small>1</small></li>
  
    <li><a href="/tags/事件/">事件</a><small>1</small></li>
  
    <li><a href="/tags/列表/">列表</a><small>1</small></li>
  
    <li><a href="/tags/动态/">动态</a><small>1</small></li>
  
    <li><a href="/tags/发布/">发布</a><small>1</small></li>
  
    <li><a href="/tags/变量/">变量</a><small>1</small></li>
  
    <li><a href="/tags/垃圾收集器/">垃圾收集器</a><small>2</small></li>
  
    <li><a href="/tags/安全/">安全</a><small>1</small></li>
  
    <li><a href="/tags/并发/">并发</a><small>1</small></li>
  
    <li><a href="/tags/拆箱/">拆箱</a><small>1</small></li>
  
    <li><a href="/tags/指针/">指针</a><small>2</small></li>
  
    <li><a href="/tags/换行符/">换行符</a><small>1</small></li>
  
    <li><a href="/tags/构造函数/">构造函数</a><small>2</small></li>
  
    <li><a href="/tags/构造器/">构造器</a><small>1</small></li>
  
    <li><a href="/tags/正则表达式/">正则表达式</a><small>1</small></li>
  
    <li><a href="/tags/死锁/">死锁</a><small>1</small></li>
  
    <li><a href="/tags/比较大小/">比较大小</a><small>1</small></li>
  
    <li><a href="/tags/永久代/">永久代</a><small>1</small></li>
  
    <li><a href="/tags/环/">环</a><small>2</small></li>
  
    <li><a href="/tags/类加载/">类加载</a><small>1</small></li>
  
    <li><a href="/tags/线程池/">线程池</a><small>2</small></li>
  
    <li><a href="/tags/装箱/">装箱</a><small>1</small></li>
  
    <li><a href="/tags/转账/">转账</a><small>1</small></li>
  
    <li><a href="/tags/链表/">链表</a><small>2</small></li>
  
    <li><a href="/tags/队列/">队列</a><small>1</small></li>
  
    <li><a href="/tags/集合/">集合</a><small>1</small></li>
  
  </ul>
</div>


  <div class="trace-invest">
    <span>
        <a href="http://traceinvest.com" target="_blank">欢迎光临我的美股投资相关网站 :</br>traceinvest.com</a>
    </span>
</div>


  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/05/05/ThreadPoolExecutor源码理解/">ThreadPoolExecutor源码理解</a>
      </li>
    
      <li>
        <a href="/2017/05/04/hello-world/">Hello World</a>
      </li>
    
      <li>
        <a href="/2017/03/31/Java集合学习/">Java集合学习</a>
      </li>
    
      <li>
        <a href="/2017/03/28/java覆盖equals和hashCode方法/">java覆盖equals和hashCode方法</a>
      </li>
    
      <li>
        <a href="/2017/03/27/java构造器/">java构造器</a>
      </li>
    
      <li>
        <a href="/2017/03/26/java构造函数this逸出/">java构造函数this逸出</a>
      </li>
    
      <li>
        <a href="/2017/03/25/java转账死锁问题/">java转账死锁问题</a>
      </li>
    
      <li>
        <a href="/2017/03/24/java类的加载过程/">java类的加载过程</a>
      </li>
    
      <li>
        <a href="/2017/03/24/java的intern方法/">java的intern方法</a>
      </li>
    
      <li>
        <a href="/2017/03/24/jvm垃圾收集器/">jvm垃圾收集器</a>
      </li>
    
      <li>
        <a href="/2017/03/24/java-线程池学习/">java 线程池学习</a>
      </li>
    
      <li>
        <a href="/2017/03/19/链表中环的入口节点/">链表中环的入口节点</a>
      </li>
    
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <div id="go-pg-top"><i class="icon-arrow-up"></i></div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 杏仁
  
</div>
<div class="clearfix"></div></footer>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/page.js"></script>


</body>

</html>
